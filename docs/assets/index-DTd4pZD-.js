(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?e.credentials="include":s.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(s){if(s.ep)return;s.ep=!0;const e=i(s);fetch(s.href,e)}})();let l,x,c,g=null,f=[],p=[],h=-1,u=1,m=!1,y="map",C=!1,o=[],I=0;const L=void 0,S="https://api.openbrewerydb.org/v1/breweries?",O="https://www.mapquestapi.com/geocoding/v1/address?key=",T=void 0;function P(){E(),k(),B(),H(),U(),K(),F(),W(),_(),q(),z(),G()}function E(){$(".go").on("click",function(){event.preventDefault(),ie(),w()})}function k(){$(".searchSpouts").on("click",function(){event.preventDefault(),R()})}function B(){$(".searchRoutes").on("click",function(){event.preventDefault(),ee()})}function H(){$(".toggleMapDir").on("click",function(){event.preventDefault(),$("#map").toggle(),$("#textDirections").toggle(),$("#map").is(":visible")?(c=new google.maps.LatLngBounds,c.extend(p[p.length-1]),c.extend(p[h]),l.fitBounds(c),y="map"):y="dir"})}function U(){$(".fullscreen").on("click",function(){event.preventDefault(),Z("mapDir")})}function K(){$(".showKey").on("click",function(){if(event.preventDefault(),$(".key").html()==""){let n=[["micro","scooter icon","Micro","< 15,000 barrels / year"],["regional","truck icon","Regional","> 15,000 and < 6,000,000 barrels / year"],["large","boat icon","Large","> 6,000,000 barrels / year"],["brewpub","beer and burger icon","Brewpub","They serve their own beer and food too"],["taproom","beer tap icon","Taproom","They serve their own beer, but no emphasis on food"],["contract","contract icon","Contract","Brewery hired to produce specific beer"],["proprietor","duplex icon","Proprietor","Shared brewery"],["bar","billiards icon","Bar","Bar that brews their own beer"],["planning","schematics icon","Planning","Brewery in planning"],["bikeTrail","solid dark green line","Route","Trails"],["bikeDedicated","solid light green line","Route","Dedicated lanes"],["bikeFriendly","dotted green line","Route","Bike friendly roads"]],t="";for(let i=0;i<=11;i++)t+=`
        <div class='keyRow'>
          <img class='keyIcon' src='`+n[i][0]+".png' alt='"+n[i][1]+`'>
          <p class='keySegment'>`+n[i][2]+`</p>
          <p class='keyDescription'>`+n[i][3]+`</p>
        </div>`;t+=`
      <img class='slideUp' src='slideUp.png' alt='slide up arrow image button'>
      `,$(".key").hide(),$(".key").html(t),$(".slideUp").hide(),$(".key").slideDown(1e3,function(){$(".slideUp").show(),w()})}else $(".slideUp").click()})}function F(){$(document).on("click",".slideUp",function(){event.preventDefault(),$(".slideUp").hide(),$(".key").slideUp(1e3,function(){$(".key").delay().html(""),w()})})}function W(){window.addEventListener("resize",function(){w(),window.matchMedia("(min-width: 600px)").matches?($(".toggleMapDir").addClass("hide"),$("#map").css("display")=="none"&&($("#map").show(),$("#map").removeClass("hideMap"),c=new google.maps.LatLngBounds,c.extend(p[p.length-1]),c.extend(p[h]),l.fitBounds(c)),m&&($("#textDirections").show(),$("#textDirections").removeClass("hideDirections"))):(m&&$(".toggleMapDir").removeClass("hide"),y=="map"?($("#map").css("display")=="none"&&($("#map").show(),$("#map").removeClass("hideMap"),c=new google.maps.LatLngBounds,c.extend(p[p.length-1]),c.extend(p[h]),l.fitBounds(c)),$("#textDirections").hide(),$("#textDirections").addClass("hideDirections")):($("#map").hide(),$("#map").addClass("hideMap"),$("#textDirections").show(),$("#textDirections").removeClass("hideDirections")))},!0)}function _(){$("#pagesButtons").on("click","button",function(n){n.preventDefault(),C||b(),$("#endPoint").val(""),o.length>0&&(u=n.currentTarget.id.replace("brewPage",""),D())})}function q(){$("#resultsPerPage").on("change",function(n){n.preventDefault(),b(),$("#endPoint").val(""),o.length>0&&(u=1,D())})}function z(){$("#resultsText").on("click","a",function(n){n.preventDefault(),window.open($(this).html(),"_blank")})}function G(){$("#resultsText").on("click","div",async function(n){n.preventDefault();let t=$(this).index();await b(),google.maps.event.trigger(f[t],"click")})}function Y(n){return Object.keys(n).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(n[i])}`).join("&")}function j(n,t){return n.sort(function(i,a){let s=i[t],e=a[t];return s<e?-1:s>e?1:0})}function V(n){let i=(""+n).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return i?[i[1]?"+1 ":"","(",i[2],") ",i[3],"-",i[4]].join(""):null}function Z(n){let t=document.getElementById(n);t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function X(n){n==null&&(n={zoom:10,center:{lat:39.1031,lng:-84.512},mapTypeId:"terrain"}),l=new google.maps.Map(document.getElementById("map"),n),new google.maps.BicyclingLayer().setMap(l),m||R()}async function M(n,t){f.forEach(function(r){r.setMap(null)}),f=[],c=new google.maps.LatLngBounds;let i=!1,a,s,e;t==0&&(t=1,i=!0);for(let r=n;r<t;r++){if(i||(a=parseFloat(o[r].latitude),s=parseFloat(o[r].longitude),e=o[r].name),i||!o[r].latitude){let d;i?d=($("#cityText").val()==""?"":$("#cityText").val())+($("#stateText").val()==""?"":", "+$("#stateText").val())+", United States":d=(o[r].street==""?"":o[r].street+",")+o[r].city+","+o[r].state+","+o[r].postal_code,d=d.replace(/ /g,"+"),d=Y({address:d});let A=await(await fetch(O+T+"&location="+d)).json();if(a=parseFloat(A.results[0].locations[0].latLng.lat),s=parseFloat(A.results[0].locations[0].latLng.lng),i){c.extend({lat:a,lng:s}),l.fitBounds(c),l.setZoom(11);return}o[r].latitude=a,o[r].longitude=s}if(p[r]={lat:a,lng:s},c.extend({lat:a,lng:s}),!i){let d={position:{lat:a,lng:s},content:"<h1>"+e+" ("+o[r].brewery_type.charAt(0).toUpperCase()+o[r].brewery_type.slice(1)+")</h1>",iconImage:o[r].brewery_type+".png",map:l,label:r};J(d)}}return f.forEach(function(r){r.setMap(l)}),l.fitBounds(c),l.getZoom()>14&&l.setZoom(14),!0}function J(n){let t=new google.maps.Marker({position:n.position,map:l,icon:n.iconImage,animation:google.maps.Animation.DROP});f.push(t),n.iconImage&&t.setIcon(n.iconImage),n.content&&t.addListener("click",function(){g&&g.close(),g=new google.maps.InfoWindow({content:n.content}),g.open(l,t),$("#endPoint").val(n.content.slice(4,n.content.indexOf("(")-1)),h=n.label,$(".toggleMapDir").addClass("hide"),$(".startingPoint").removeClass("hide"),$("#startingText, .labelDestination, #endPoint, .searchRoutes").removeAttr("tabindex")})}async function R(){let n=$("#cityText").val(),t=$("#stateText").val(),i=$("#breweryText").val();if(n==""&&t==""&&i=="")return $(".tipError1").fadeIn("slow",function(){$(".tipError1").delay(3e3).fadeOut()}),!1;if(b(),$("#endPoint").val(""),t.length==2){t=t.toUpperCase();let s=["ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING"],e=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];e.includes(t)&&(t=s[e.indexOf(t)].toLowerCase(),$("#stateText").val(t))}let a=(n==""?"":"by_city="+n+"&")+(t==""?"":"by_state="+t+"&")+(i==""?"":"by_name="+i+"&");a=a.replace(/ /g,"_"),o=[],o=await Q(S+a),u=1,D()}async function Q(n){let t=0,i=0;do{t++;let s=await(await fetch(n+"page="+t+"&per_page=50")).json();o=o.concat(s),i=s.length}while(i==50);return o=j(o,"name"),o}async function D(){document.getElementById("numberOfResults").innerHTML=o.length+" Results Found";let n=Math.ceil(o.length/$("#resultsPerPage").val()),t="";for(let e=1;e<=n;e++){let r=e==u?" highlight":"";t+=`<button id="brewPage${e}" class="brewPageButton${r}"><label>${e}</label></button>`}o.length<=parseInt($("#resultsPerPage").val(),10)?$("#pagesButtons").hide():$("#pagesButtons").show(),document.getElementById("pagesButtons").innerHTML=t;let i=$("#resultsPerPage").val()*(u-1),a=o.length<$("#resultsPerPage").val()*u?o.length:$("#resultsPerPage").val()*u,s="";for(let e=i;e<a;e++){let r=o[e].name,d=o[e].brewery_type==""?"":" ("+o[e].brewery_type.charAt(0).toUpperCase()+o[e].brewery_type.slice(1)+")",v=o[e].street?o[e].street+" "+o[e].city+", "+o[e].state+" "+o[e].postal_code:"Not Provided",A=o[e].phone==""?"Not Provided":V(o[e].phone),N=o[e].website_url==""?"Not Provided":"<a href="+o[e].website_url+">"+o[e].website_url+"</a>";s+=`<div class="entry ${e} tileEntry" id="${r}" >
      <h1>${r}${d}</h1>
      <h2>Address: ${v}</h2>
      <h2>Phone: ${A}</h2>
      <h2>Website: ${N}</h2>
    </div>`}document.getElementById("resultsText").innerHTML=s,I==0&&(I=$(".entry").height()),w(),$("*").addClass("wait"),await M(i,a),M(i,a),$("*").removeClass("wait")}function w(){if(window.matchMedia("(min-width: 500px)").matches){let t=Math.floor($("body").width()/175);$(".entry").width($("body").width()/t-2);let i=$("#resultsPerPage").val()*(u-1),a=o.length<$("#resultsPerPage").val()*u?o.length:$("#resultsPerPage").val()*u,s=0;$(".entry").height("unset");for(let e=i;e<a;e++)$(".entry."+e).height()>s&&(s=$(".entry."+e).height());if($(".entry").height(s),$(".entry").removeClass("evenOdd"),t%2==0)for(let e=i;e<a;e++)Math.floor(e/t)%2==0?e%2==1&&$(".entry."+e).addClass("evenOdd"):e%2!=1&&$(".entry."+e).addClass("evenOdd");else for(let e=i;e<a;e++)e%2==1&&$(".entry."+e).addClass("evenOdd")}else $(".entry").removeClass("even1, even2, odd"),$(".entry").height()>I&&($(".entry").height(I),$(".entry").height("unset")),$(".entry").width($("body").width()-2)}async function ee(){if($("#startingText").val()=="")return $(".showKey").css("z-index","0"),$(".tipError2").fadeIn("slow",function(){$(".tipError2").delay(3e3).fadeOut()}),!1;x={zoom:l.zoom,center:l.center,mapTypeId:l.mapTypeId},b(),g.close(),f.forEach(function(v){v.setMap(null)}),f[h-(u-1)*$("#resultsPerPage").val()].setMap(l),m=!0;let n=encodeURIComponent($("#startingText").val()),i=await(await fetch(O+T+"&location="+n)).json(),a=parseFloat(i.results[0].locations[0].latLng.lat),s=parseFloat(i.results[0].locations[0].latLng.lng);n=a+","+s,p.push({lat:a,lng:s});let e="https://mts.googleapis.com/vt/icon/name=icons/spotlight/spotlight-waypoint-a.png&text=A&psize=16&font=fonts/Roboto-Regular.ttf&color=ff333333&ax=44&ay=48&scale=1",r=new google.maps.Marker({position:{lat:a,lng:s},content:"<h1>"+$("#startingText").val()+"</h1>",map:l,icon:e,animation:google.maps.Animation.DROP});f.push(r),r.addListener("click",function(){g&&g.close(),g=new google.maps.InfoWindow({content:r.content}),g.open(l,r)});let d=o[h].latitude+","+o[h].longitude;te(n,d)}function te(n,t){let i=new google.maps.DirectionsService,a=new google.maps.DirectionsRenderer;a.setMap(l),a.setPanel(document.getElementById("textDirections")),i.route({origin:n,destination:t,travelMode:"BICYCLING"},function(s,e){if(e==="OK")a.setDirections(s),a.setOptions({suppressMarkers:!0}),window.matchMedia("(max-width: 599px)").matches&&($("#map").addClass("hideMap"),$("#map").hide(),y="dir",$(".toggleMapDir").removeClass("hide"),$(".toggleMapDir").removeAttr("tabindex")),$("#textDirections").removeClass("hideDirections"),$("#textDirections").show();else if(e=="ZERO_RESULTS")return m=!1,$(".showKey").css("z-index","0"),$(".tipError3").fadeIn("slow",function(){$(".tipError3").delay(3e3).fadeOut()}),!1})}function b(){return $("#map").show(),$("#map").removeClass("hideMap"),y="map",$(".toggleMapDir").addClass("hide"),$(".toggleMapDir").attr("tabindex","-1"),m?(l=new google.maps.Map(document.getElementById("map"),x),new google.maps.BicyclingLayer().setMap(l),C=!0,$("#brewPage"+u).click(),C=!1,$("#textDirections").html(""),$("#textDirections").addClass("hideDirections"),$("#textDirections").hide(),$("#map").removeClass("hideMap"),m=!1,!0):!1}window.initialSetup=()=>{$(".tipError").hide(),$(".key").hide(),P(),X(),$("#cityText").val(""),ne()};function ne(){$(window).on("beforeunload",function(){$("body").hide(),$(window).scrollTop(0)}),$(".mapDir, .searchContainer, .instructions, .breweryResults, #resultsText, .credits").addClass("showSplash no_select"),document.body.style.overflow="hidden",$("body").show(),window.innerWidth/window.innerHeight>.75?$(".logo").addClass("center"):$(".logo").addClass("stretch"),window.addEventListener("resize",function(){window.innerWidth/window.innerHeight>.75?($(".logo").addClass("center"),$(".logo").removeClass("stretch")):($(".logo").addClass("stretch"),$(".logo").removeClass("center"))})}function ie(){$(".splashPage").fadeOut(500),$(".mapDir, .searchContainer, .instructions, .breweryResults, #resultsText, .credits").removeClass("showSplash no_select"),$(".mapDir, .searchContainer, .instructions, .breweryResults, #resultsText, .credits").hide(),$(".mapDir, .searchContainer, .instructions, .breweryResults, #resultsText, .credits").fadeIn(500),document.body.style.overflow="visible",$("#mapDir, #map, #textDirections, .searchContainer, .searchForm, #cityText, #stateText, #breweryText, .searchSpouts, .otherControls, .fullscreen, .showKey, .breweryResults, #showResults, #resultsPerPage, #pagesButtons, #resultsText").removeAttr("tabindex")}document.addEventListener("DOMContentLoaded",function(){if(document.querySelectorAll("#map").length>0){const n=document.querySelector("html").lang||"en";let t=document.createElement("script");t.type="text/javascript",t.src=`https://maps.googleapis.com/maps/api/js?callback=initialSetup&key=${L}&language=${n}&loading=async`,document.getElementsByTagName("head")[0].appendChild(t)}});const oe=console.warn;console.warn=function(n){n.includes("As of February 21st, 2024, google.maps.Marker is deprecated.")||oe.apply(console,arguments)};
